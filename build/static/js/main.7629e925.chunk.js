(this.webpackJsonpprac=this.webpackJsonpprac||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),d=c(10),r=c.n(d),i=(c(15),c(5)),s=c(4),o=c(34),l=c(35),b=c(32),u=(c(16),c(0));var j=function(e){var t=Object(a.useRef)(),c=function(c){var a;t&&!(null===(a=t.current)||void 0===a?void 0:a.contains(c.target))&&e.onClose&&e.onClose()};return Object(a.useEffect)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}})),Object(u.jsx)("div",{ref:t,className:"dropdown custom-scroll ".concat(e.class?e.class:""),children:e.children})},f=(c(18),c(3)),O=c(28),x=c(29),v=c(30),p=c(31),m=c(27),h=c(33);c(19);var _=function(e){return Object(u.jsx)("div",{className:"modal",onClick:function(){return e.onClose?e.onClose():""},children:Object(u.jsx)("div",{className:"modal_content custom-scroll",onClick:function(e){return e.stopPropagation()},children:e.children})})};c(20);var C=function(e){var t=Object(a.useState)(!1),c=Object(s.a)(t,2),n=c[0],d=c[1],r=Object(a.useState)(e.defaultValue||""),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(u.jsx)("div",{className:"editable",children:n?Object(u.jsxs)("form",{className:"editable_edit ".concat(e.editClass?e.editClass:""),onSubmit:function(t){t.preventDefault(),o&&e.onSubmit&&(l(""),e.onSubmit(o)),d(!1)},children:[Object(u.jsx)("input",{type:"text",value:o,placeholder:e.placeholder||e.text,onChange:function(e){return l(e.target.value)},autoFocus:!0}),Object(u.jsxs)("div",{className:"editable_edit_footer",children:[Object(u.jsx)("button",{type:"submit",children:e.buttonText||"Add"}),Object(u.jsx)(m.a,{onClick:function(){return d(!1)},className:"closeIcon"})]})]}):Object(u.jsx)("p",{className:"editable_display ".concat(e.displayClass?e.displayClass:""),onClick:function(){return d(!0)},children:e.text})})};c(23);var N=function(e){var t,c,n=Object(a.useState)(),d=Object(s.a)(n,2),r=d[0],o=d[1],l=Object(a.useState)(Object(f.a)({},e.card)),j=Object(s.a)(l,2),N=j[0],g=j[1],k=function(){var e,t,c,a;return(null===(e=N.tasks)||void 0===e?void 0:e.length)?(null===(t=N.tasks)||void 0===t||null===(c=t.filter((function(e){return e.completed})))||void 0===c?void 0:c.length)/(null===(a=N.tasks)||void 0===a?void 0:a.length)*100:0};return Object(a.useEffect)((function(){e.updateCard&&e.updateCard(e.boardId,N.id,N)}),[N]),Object(u.jsx)(_,{onClose:e.onClose,children:Object(u.jsxs)("div",{className:"cardinfo",children:[Object(u.jsxs)("div",{className:"cardinfo_box",children:[Object(u.jsxs)("div",{className:"cardinfo_box_title",children:[Object(u.jsx)(O.a,{}),Object(u.jsx)("p",{children:"Title"})]}),Object(u.jsx)(C,{defaultValue:N.title,text:N.title,placeholder:"Enter Title",onSubmit:function(e){g(Object(f.a)(Object(f.a)({},N),{},{title:e}))}})]}),Object(u.jsxs)("div",{className:"cardinfo_box",children:[Object(u.jsxs)("div",{className:"cardinfo_box_title",children:[Object(u.jsx)(x.a,{}),Object(u.jsx)("p",{children:"Description"})]}),Object(u.jsx)(C,{defaultValue:N.desc,text:N.desc||"Add a Description",placeholder:"Enter description",onSubmit:function(e){g(Object(f.a)(Object(f.a)({},N),{},{desc:e}))}})]}),Object(u.jsxs)("div",{className:"cardinfo_box",children:[Object(u.jsxs)("div",{className:"cardinfo_box_title",children:[Object(u.jsx)(v.a,{}),Object(u.jsx)("p",{children:"Date"})]}),Object(u.jsx)("input",{type:"date",defaultValue:N.date,min:(new Date).toISOString().substr(0,10),onChange:function(e){var t;(t=e.target.value)&&g(Object(f.a)(Object(f.a)({},N),{},{date:t}))}})]}),Object(u.jsxs)("div",{className:"cardinfo_box",children:[Object(u.jsxs)("div",{className:"cardinfo_box_title",children:[Object(u.jsx)(p.a,{}),Object(u.jsx)("p",{children:"Labels"})]}),Object(u.jsx)("div",{className:"cardinfo_box_labels",children:null===(t=N.labels)||void 0===t?void 0:t.map((function(e,t){return Object(u.jsxs)("label",{style:{backgroundColor:e.color,color:"#fff"},children:[e.text,Object(u.jsx)(m.a,{onClick:function(){return function(e){var t=N.labels.filter((function(t){return t.text!==e.text}));g(Object(f.a)(Object(f.a)({},N),{},{labels:t}))}(e)}})]},t)}))}),Object(u.jsx)("ul",{children:["#a8193d","#4fcc25","#1ebffa","#8da377","#9975bd","#cf61a1","#240959"].map((function(e,t){return Object(u.jsx)("li",{style:{backgroundColor:e},className:r===e?"li_active":"",onClick:function(){return o(e)}},t+e)}))}),Object(u.jsx)(C,{text:"Add Label",placeholder:"Enter label text",onSubmit:function(e){return t={color:r,text:e},void(N.labels.findIndex((function(e){return e.text===t.text}))>-1||(o(""),g(Object(f.a)(Object(f.a)({},N),{},{labels:[].concat(Object(i.a)(N.labels),[t])}))));var t}})]}),Object(u.jsxs)("div",{className:"cardinfo_box",children:[Object(u.jsxs)("div",{className:"cardinfo_box_title",children:[Object(u.jsx)(b.a,{}),Object(u.jsx)("p",{children:"Tasks"})]}),Object(u.jsx)("div",{className:"cardinfo_box_progress-bar",children:Object(u.jsx)("div",{className:"cardinfo_box_progress",style:{width:"".concat(k(),"%"),backgroundColor:100===k()?"limegreen":""}})}),Object(u.jsx)("div",{className:"cardinfo_box_task_list",children:null===(c=N.tasks)||void 0===c?void 0:c.map((function(e){return Object(u.jsxs)("div",{className:"cardinfo_box_task_checkbox",children:[Object(u.jsx)("input",{type:"checkbox",defaultChecked:e.completed,onChange:function(t){return function(e,t){var c=Object(i.a)(N.tasks),a=c.findIndex((function(t){return t.id===e}));a<0||(c[a].completed=t,g(Object(f.a)(Object(f.a)({},N),{},{tasks:c})))}(e.id,t.target.checked)}}),Object(u.jsx)("p",{className:e.completed?"completed":"",children:e.text}),Object(u.jsx)(h.a,{onClick:function(){return function(e){var t=Object(i.a)(N.tasks).filter((function(t){return t.id!==e}));g(Object(f.a)(Object(f.a)({},N),{},{tasks:t}))}(e.id)}})]},e.id)}))}),Object(u.jsx)(C,{text:"Add a Task",placeholder:"Enter task",onSubmit:function(e){var t={id:Date.now()+2*Math.random(),completed:!1,text:e};g(Object(f.a)(Object(f.a)({},N),{},{tasks:[].concat(Object(i.a)(N.tasks),[t])}))}})]})]})})};var g=function(e){var t,c=Object(a.useState)(!1),n=Object(s.a)(c,2),d=n[0],r=n[1],i=Object(a.useState)(!1),f=Object(s.a)(i,2),O=f[0],x=f[1],v=e.card,p=v.id,m=v.title,h=v.date,_=v.tasks,C=v.labels;return Object(u.jsxs)(u.Fragment,{children:[O&&Object(u.jsx)(N,{onClose:function(){return x(!1)},card:e.card,boardId:e.boardId,updateCard:e.updateCard}),Object(u.jsxs)("div",{className:"card",draggable:!0,onDragEnd:function(){return e.dragEnded(e.boardId,p)},onDragEnter:function(){return e.dragEntered(e.boardId,p)},onClick:function(){return x(!0)},children:[Object(u.jsxs)("div",{className:"card_top",children:[Object(u.jsx)("div",{className:"card_top_labels",children:null===C||void 0===C?void 0:C.map((function(e,t){return Object(u.jsx)("label",{style:{backgroundColor:e.color},children:e.text},t)}))}),Object(u.jsxs)("div",{className:"card_top_more",onClick:function(e){e.stopPropagation(),r(!0)},children:[Object(u.jsx)(o.a,{}),d&&Object(u.jsx)(j,{class:"board_dropdown",onClose:function(){return r(!1)},children:Object(u.jsx)("p",{onClick:function(){return e.removeCard(e.boardId,p)},children:"Delete Card"})})]})]}),Object(u.jsx)("div",{className:"card_title",children:m}),Object(u.jsxs)("div",{className:"card_footer",children:[h&&Object(u.jsxs)("p",{className:"card_footer_item",children:[Object(u.jsx)(l.a,{className:"card_footer_icon"}),function(e){if(!e)return"";var t=new Date(e);if(!t)return"";return t.getDate()+" "+["Jan","Feb","Mar","Aprl","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]}(h)]}),_&&(null===_||void 0===_?void 0:_.length)>0&&Object(u.jsxs)("p",{className:"card_footer_item",children:[Object(u.jsx)(b.a,{className:"card_footer_icon"}),null===_||void 0===_||null===(t=_.filter((function(e){return e.completed})))||void 0===t?void 0:t.length,"/",null===_||void 0===_?void 0:_.length]})]})]})]})};c(24);var k=function(e){var t,c,n,d,r,i=Object(a.useState)(!1),l=Object(s.a)(i,2),b=l[0],f=l[1];return Object(u.jsxs)("div",{className:"board",children:[Object(u.jsxs)("div",{className:"board_header",children:[Object(u.jsxs)("p",{className:"board_header_title",children:[null===(t=e.board)||void 0===t?void 0:t.title,Object(u.jsx)("span",{children:(null===(c=e.board)||void 0===c||null===(n=c.cards)||void 0===n?void 0:n.length)||0})]}),Object(u.jsxs)("div",{className:"board_header_title_more",onClick:function(){return f(!0)},children:[Object(u.jsx)(o.a,{}),b&&Object(u.jsx)(j,{class:"board_dropdown",onClose:function(){return f(!1)},children:Object(u.jsx)("p",{onClick:function(){return e.removeBoard()},children:"Delete Board"})})]})]}),Object(u.jsxs)("div",{className:"board_cards custom-scroll",children:[null===(d=e.board)||void 0===d||null===(r=d.cards)||void 0===r?void 0:r.map((function(t){return Object(u.jsx)(g,{card:t,boardId:e.board.id,removeCard:e.removeCard,dragEntered:e.dragEntered,dragEnded:e.dragEnded,updateCard:e.updateCard},t.id)})),Object(u.jsx)(C,{text:"+ Add Card",placeholder:"Enter Card Title",displayClass:"board_add-card",editClass:"board_add-card_edit",onSubmit:function(t){var c;return e.addCard(null===(c=e.board)||void 0===c?void 0:c.id,t)}})]})]})};c(25);var S=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("prac-kanban"))||[]),t=Object(s.a)(e,2),c=t[0],n=t[1],d=Object(a.useState)({bid:"",cid:""}),r=Object(s.a)(d,2),o=r[0],l=r[1],b=function(e,t){var a=c.findIndex((function(t){return t.id===e}));if(!(a<0)){var d=Object(i.a)(c);d[a].cards.push({id:Date.now()+2*Math.random(),title:t,labels:[],date:"",tasks:[]}),n(d)}},j=function(e,t){var a=c.findIndex((function(t){return t.id===e}));if(!(a<0)){var d=Object(i.a)(c),r=d[a].cards,s=r.findIndex((function(e){return e.id===t}));s<0||(r.splice(s,1),n(d))}},f=function(e,t){var a,d,r,s,b,u,j,f;if(!((b=c.findIndex((function(t){return t.id===e})))<0)&&!((u=null===(a=c[b])||void 0===a||null===(d=a.cards)||void 0===d?void 0:d.findIndex((function(e){return e.id===t})))<0)&&!((j=c.findIndex((function(e){return e.id===o.bid})))<0)&&!((f=null===(r=c[j])||void 0===r||null===(s=r.cards)||void 0===s?void 0:s.findIndex((function(e){return e.id===o.cid})))<0)){var O=Object(i.a)(c),x=O[b].cards[u];O[b].cards.splice(u,1),O[j].cards.splice(f,0,x),n(O),l({bid:"",cid:""})}},O=function(e,t){o.cid!==t&&l({bid:e,cid:t})},x=function(e,t,a){var d=c.findIndex((function(t){return t.id===e}));if(!(d<0)){var r=Object(i.a)(c),s=r[d].cards.findIndex((function(e){return e.id===t}));s<0||(r[d].cards[s]=a,n(r))}};return Object(a.useEffect)((function(){localStorage.setItem("prac-kanban",JSON.stringify(c))}),[c]),Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)("div",{className:"app_nav",children:Object(u.jsx)("h1",{children:"Kanban"})}),Object(u.jsx)("div",{className:"app_boards_container",children:Object(u.jsxs)("div",{className:"app_boards",children:[c.map((function(e){return Object(u.jsx)(k,{board:e,addCard:b,removeBoard:function(){return function(e){var t=c.findIndex((function(t){return t.id===e}));if(!(t<0)){var a=Object(i.a)(c);a.splice(t,1),n(a)}}(e.id)},removeCard:j,dragEnded:f,dragEntered:O,updateCard:x},e.id)})),Object(u.jsx)("div",{className:"app_boards_last",children:Object(u.jsx)(C,{displayClass:"app_boards_add-board",editClass:"app_boards_add-board_edit",placeholder:"Enter Board Name",text:"Add Board",buttonText:"Add Board",onSubmit:function(e){var t=Object(i.a)(c);t.push({id:Date.now()+2*Math.random(),title:e,cards:[]}),n(t)}})})]})})]})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.7629e925.chunk.js.map